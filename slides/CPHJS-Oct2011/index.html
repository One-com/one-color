<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
	<title>One-color.js - JS color manipulation made easy</title>

	<link href="../3rdparty/CSSS/slideshow.css" rel="stylesheet" />
	<link href="../3rdparty/CSSS/theme.css" rel="stylesheet" />
	<link href="talk.css" rel="stylesheet" />
</head>
<body data-duration="30">

<section title="Introduction">
    <header id="intro" class="slide">
	    <h1>One-color.js</h1>
	    <h2>JS colors made easy</h2>
	    <p class="attribution">Peter Müller, Web developer @onecom</p>
    </header>

	<header class="slide">
		<h1>Introduction</h1>
		<ul class="presenter-notes">
            <li>Me, @onecom 8 years, html, css, javascript</li>
            <li>One.com, shared hosting webspaces</li>
            <li>8 frontend webdevs adding value to product</li>
            <li>Webmail, Abook, Calendar, Filemanager, Blog, Gallery, Webcreator etc...</li>
            <li>All partially or completely JS</li>
		</ul>
	</header>
</section>

<section title="Applications">
	<section class="slide">
		<h2>Why do we need it?</h2>
	    <img class="delayed" src="images/blog.png">
	    <p class="presenter-notes">
	        We have a number of places where there is user choice of color involved. One example is our blog or gallery administration.
	    </p>
	</section>
	<section class="slide">
		<h2>Why do we need it?</h2>
	    <img src="images/calendar.png">
	    <p class="presenter-notes">
	        In our calendar there is also user choice, and as an addition we need to autosuggest colors that differ from the previous ones for improved readability.
	    </p>
	</section>
	<section class="slide">
		<h2>?</h2>
		<ul class="presenter-notes">
		    <li>Custom color picker components</li>
		    <li>Automatic colorization of maps etc</li>
		    <li>Animation</li>
		    <li>Canvas manipulation</li>
		</ul>
	</section>
</section>

<section title="Getting to know the domain">
    <header class="slide">
        <h1>But first...</h1>
        <p class="presenter-notes">
            A little domain knowledge
        </p>
    </header>
    <section class="slide">
        <h2>Displays</h2>
        <img src="images/Pixels.jpg">
    </section>
    <section class="slide">
        <h2>RGB</h2>
        <img class="delayed" src="images/RGB.png">
    </section>
    <section class="slide">
        <h2>HSV</h2>
        <img class="delayed" src="images/HSV.png">
        <ul class="presenter-notes">
            <li>Hue: 360 degrees pure color</li>
            <li>Saturation: colorfullness</li>
            <li>Value: amount of light</li>
            <li>More intuitive than RGB</li>
        </ul>
    </section>
    <section class="slide">
        <h2>HSL</h2>
        <img class="delayed" src="images/HSL.png">
        <ul class="presenter-notes">
            <li>Lightness vs value</li>
        </ul>
    </section>
    <section class="slide">
        <img src="images/RGB_HSL_HSV_comparison.png" style="margin-top: 180px;">
    </section>
    <section class="slide">
        <h2>CSS syntaxes</h2>
        <ul>
            <li class="delayed">Hex: "#123456"</li>
            <li class="delayed">RGB: "rgb(100, 100, 100)"</li>
            <li class="delayed">RGBA: "rgba(100, 100, 100, 0.5)</li>
            <li class="delayed">HSL: "hsl(100, 100, 100)"</li>
            <li class="delayed">HSLA: "hsla(100, 100, 100, 0.5)</li>
        </ul>
    </section>
    <section class="slide">
        <h2>Javascript syntax</h2>
        <ul>
            <li class="bad delayed">None?</li>
        </ul>
    </section>
</section>

<section title="Lets find a library">
    <section class="slide">
        <h2>Specifications</h2>
        <ul>
            <li class="good delayed">RGB, HSL and HSV</li>
            <li class="good delayed">Colorspace conversions</li>
            <li class="good delayed">A 'datatype'</li>
            <li class="good delayed">Pluggable architecture</li>
            <li class="good delayed">Chainable modifiers</li>
            <li class="good delayed">SMALL!</li>
        </ul>
    </section>

	<section class="slide">
	    <h2>Options</h2>
	    <ul>
	        <li class="delayed">Ext JS</li>
	        <li class="delayed">Micro library</li>
	        <li class="delayed">Roll your own</li>
	    </ul>
	    <p class="delayed">Lets have a look...</p>
	</section>

    <section class="slide">
        <h2>Ext JS</h2>
        <img class="delayed" src="images/ExtJS.png">
        <ul>
            <li class="bad delayed">Seriously?</li>
        </ul>
        <ul class="presenter-notes">
            <li class="bad">Representation: Hex-string</li>
            <li class="bad">Color spaces</li>
            <li class="bad">Color conversion</li>
        </ul>
    </section>

    <section class="slide">
        <h2>Micro library</h2>
        <ul>
            <li class="good delayed">Lots to choose from</li>
            <li class="bad delayed">Lots to choose from!</li>
            <li class="good delayed">Math is well documented</li>
            <li class="bad delayed">Architecture is difficult</li>
        </ul>
        <p class="delayed">Lets look at some examples</p>
    </section>

    <section title="Microlib examples">
        <section class="slide">
            <h2>Lack of data model</h2>
            <ul>
                <li class="bad delayed"><code>"#000000"</code></li>
                <li class="bad delayed"><code>[0, 0, 0]</code></li>
                <li class="bad delayed"><code>{ R: <span style="color: #FAA">0</span>, G: <span style="color: #AFA">0</span>, B: <span style="color: #AAF">0</span> }</code></li>
                <li class="good delayed"><code>{ space: 'rgb', R: <span style="color: #FAA">0</span>, G: <span style="color: #AFA">0</span>, B: <span style="color: #AAF">0</span> }</code></li>
            </ul>
        </section>

        <section class="slide">
            <h2>Conversion methods</h2>
            <ul class="delayed">
                <li>fromHexToRGB()</li>
                <li>fromRGBToHex()</li>
            </ul>
            <ul class="delayed">
                <li>fromHexToHSV()</li>
                <li>fromRGBToHSV()</li>
                <li>fromHSVToHex()</li>
                <li>fromHSVToRGB()</li>
            </ul>
            <ul class="delayed">
                <li>fromHexToHSL()</li>
                <li>fromRGBToHSL()</li>
                <li>fromHSVToHSL()</li>
                <li>fromHSLToHex()</li>
                <li>fromHSLToRGB()</li>
                <li>fromHSLToHSV()</li>
            </ul>
            <img class="delayed" id="conversion" src="images/PullingHair.png">
            <ul class="presenter-notes">
                <li>RGB and HEX. Simple</li>
                <li>Lets add HSV</li>
                <li>Now HSL... You see where this is going</li>
                <li>Lots of methods, lots of bytes, lots of mental maintenance</li>
            </p>
        </section>

        <section class="slide">
            <h2>Chained modifiers</h2>
            <ul>
                <li class="delayed">Object with conversion methods</li>
                <li class="delayed">Object with channel modifier methods</li>
            </ul>
        </section>

        <section class="slide" id="reps">
            <h2>Color representation</h2>
            <ul class="delayed">
                <li>Red: [0;255]</li>
                <li>Green: [0;255]</li>
                <li>Blue: [0;255]</li>
            </ul>
            <ul class="delayed">
                <li>Hue: [0;360]</li>
                <li>Saturation: [0;100]</li>
                <li>Value: [0;100]</li>
                <li>Lightness: [0;100]</li>
            </ul>
            <ul class="delayed">
                <li>Cyan: [0;100]</li>
                <li>Magenta: [0;100]</li>
                <li>Yellow: [0;100]</li>
                <li>blacK: [0;100]</li>
            </ul>
            <p class="delayed">Color math: [0;1]</p>
            <p class="presenter-notes">Every color space have channels in different ranges externally, but internally they convert to color math</p>
        </section>

        <section class="slide">
            <h2>And the winner is...</h2>
            <ul>
                <li class="bad delayed">None :(</li>
            </ul>
            <p class="delayed">... but take a look at <a href="https://github.com/harthur/color">https://github.com/harthur/color</a>, lots of good ideas!</p>
        </section>
    </section>
</section>

<section>
    <header class="slide">
        <h1>One-color.js</h1>
    </header>

    <section class="slide" id="specs">
        <h2>Specifications</h2>
        <ul>
            <li class="good">RGB, HSL and HSV</li>
            <li class="good">Colorspace conversions</li>
            <li class="good">A 'datatype'</li>
            <li class="good">Pluggable architecture</li>
            <li class="good">Chainable modifiers</li>
            <li class="good">SMALL!</li>
        </ul>
        <ul>
            <li class="good delayed">Parse once</li>
            <li class="good delayed">Round once</li>
            <li class="good delayed">Avoid loss of precision</li>
        </ul>
    </section>

    <section class="slide">
        <h2>Base</h2>
        <pre>one = { <span class="comment">// General namespace for One.com libs</span>
    <span class="delayed">color = function( <span class="delayed">one.color.*</span> <span class="delayed">| Array</span> <span class="delayed">| String</span> <span class="delayed">| Int</span> ), <span class="comment">// Parser</span></span>
    <span class="delayed">installColorSpace: function ( <span class="delayed">str space</span><span class="delayed">, [str channelNames]</span><span class="delayed">, obj methods</span> )</span>
};
<span class="delayed">one.installColorSpace("RGB", "<span style="color: #FAA">Red</span>", "<span style="color: #AFA">Green</span>", "<span style="color: #AAF">Blue</span>", "Alpha", {...});</pre>
        <pre class="delayed">one.color.RGB  = function ( <span style="color: #FAA">[0;1]</span>, <span style="color: #AFA">[0;1]</span>, <span style="color: #AAF">[0;1]</span>, [0;1] ) <span class="comment">// Constructor</span></pre>
        <p class="delayed">And with plugins:</p>
        <pre class="delayed">one.color.HSV  = function ( [0;1], [0;1], [0;1], [0;1] ) <span class="comment">// Constructor</span></pre>
        <pre class="delayed">one.color.HSL  = function ( [0;1], [0;1], [0;1], [0;1] ) <span class="comment">// Constructor</span></pre>
        <pre class="delayed">one.color.CMYK = function ( [0;1], [0;1], [0;1], [0;1] ) <span class="comment">// Constructor</span></pre>
    <ul class="presenter-notes">
        <li>This is the new API</li>
        <li>Array: toJSON and back!</li>
        <li>String: Hex, RGB, HSL, HSV</li>
        <li>Notice the normalization to [0;1]</li>
    </section>

    <section class="slide">
        <h2>installColorSpace</h2>
        <p>Metaprogramming FTW!</p>
        <p class="delayed">Methods added to all installed one.color.* prototypes:</p>
        <ul class="nofade">
            <li class="delayed"><code>toString()                  → "[one.color.RGB: Red=0 Green=0 Blue=0 Alpha=1]"</code></li>
            <li class="delayed"><code>toJSON()                    → ["RGB", 0, 0, 0, 1]</code></li>
            <li class="delayed"><code>equals(otherColor, epsilon) → Boolean</code></li>
            <li class="delayed"><code>[colorSpace]                → one.color[colorSpace]</code></li>
            <li class="delayed"><code>[channelName]               → Number [0;1]</code></li>
            <li class="delayed"><code>[channelName](n)            → new one.color[colorSpace] with channelName set to n</code></li>
            <li class="delayed"><code>[channelName](±n, true)     → new one.color[colorSpace] with channelName adjusted by ±n</code></li>
        </ul>
    </section>

    <section class="slide">
        <h2>installColorSpace</h2>
        <p>How to write a colorSpace plugin</p>
        <pre>one.color.installColorSpace('<span class="delayed">HSV</span>', [<span class="delayed">'Hue'</span><span class="delayed">, 'Saturation'</span><span class="delayed">, 'Value'</span><span class="delayed">, 'Alpha'</span>], {
    <span class="delayed">fromRGB: function () { // Becomes one.color.RGB.prototype.toHSV
        <span class="comment">// SNIP! Colormath is boring, lets go shopping!</span>
        return new one.color.HSV(h, s, v, this.alpha);
    },</span>

    <span class="delayed">toRGB: function () {
        <span class="comment">// SNIP! Colormath... Go read wikipedia</span>
        return new one.color.RGB(r, g, b, this.alpha);
    },</span>

    <span class="delayed">toHSL: function () {
        <span class="comment">// SNIP! Colormath... Just copy/paste from someone else</span>
        return new one.color.HSL(this.h, s, l / 2, this.alpha);
    }</span>
});</pre>
    </section>

    <section class="slide">
        <h2>API usage</h2>
        <p>Color space conversions</p>
        <pre class="delayed">one.color("<span style="color: #99FFFF">#99FFFF</span>")<span class="delayed">.
    hsv()</span><span class="delayed">.
    hsl()</span><span class="delayed">.
    cmyk()</span><span class="delayed">.
    toHex();</span><span class="delayed"> → "<span style="color: #99FFFF">#99FFFF</span>"</span></pre>
        <p class="delayed">Conversions are implicit, why bother...</p>
    </section>

    <section class="slide">
        <h2>API usage</h2>
        <p>Channel manipulation methods</p>
        <pre class="delayed">one.color("<span style="color: #99FFFF">#99FFFF</span>")<span class="delayed">.
    red(0.5)</span><span class="delayed">.
    hue(-0.2, true)</span><span class="delayed">.
    magenta(0)</span><span class="delayed">.
    toHex();</span><span class="delayed"> → "<span style="color: #99ff80">#99ff80</span>"</span></pre>
    </section>

    <section class="slide">
        <h2>Future possibilities</h2>
        <ul>
            <li class="delayed">More color spaces</li>
            <li class="delayed">Text contrast method</li>
            <li class="delayed">Intuitive adjustment methods</li>
            <li class="delayed">Photoshop blending modes</li>
            <li class="delayed">To/from canvas array</li>
            <li class="delayed">Color picker components</li>
        </ul>
    </section>

    <section class="slide">
        <h2>FAQ</h2>
        <p>Based on the rewritten API version on the 'newapi' branch</p>
        <ul>
            <li class="delayed">File size: <a href="https://raw.github.com/One-com/one-color/master/one-color.js">5.4k minified, </a></li>
            <li class="delayed">License: <a href="https://raw.github.com/One-com/one-color/master/LICENSE">3 clause BSD</a></li>
            <li class="delayed">Github: <a href="https://github.com/One-com/one-color">https://github.com/One-com/one-color</a></li>
        </ul>
    </section>
</section>

<section>
    <header class="slide">
        <h1>DEMOTIME!</h1>
    </header>
</section>

<section>
    <header class="slide">
        <h1>Questions?</h1>
    </header>
</section>

<footer class="slide">
    <h2>Thank you!</h2>
    <p>Get it at <a href="https://github.com/One-com/one-color">https://github.com/One-com/one-color</a></p>
    <p>Get in touch:</p>
    <ul>
        <li>Email: <a href="mailto:munter@fumle.dk">munter@fumle.dk</a></li>
        <li>Twitter: <a href="http://twitter.com/#!/_munter_">@_munter_</a></li>
    </ul>
</footer>

<script src="../3rdparty/CSSS/slideshow.js"></script>
<script>
var slideshow = new SlideShow();
</script>

</body>
</html>
